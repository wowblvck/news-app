<h1 align="center">Приложение "Новости"</h1>

> RU: Просмотр новостей в удобном формате.

> EN: View news in a convenient format.

> ВАЖНО: Это демонстрационная версия приложения, сделанная в формате MVP для презентации работы с фреймворком Next.js,
> языком JavaScript и надстройкой TypeScript. В приложении учтены не весь UX и проработаны не все элементы UI.

<details>
  <summary>Описание задания</summary>

Необходимо сверстать макет главной страницы приложения просмотра новостей по
макету [Figma](https://www.figma.com/file/RvC8D6CDSU4yqPhhcyxzjw/Untitled?type=design&node-id=1%3A592&mode=dev)

#### Технические требования

- Использование фреймворка Next.js.
- Верстка должна соответствовать дизайну (шрифты и иконки можно использовать стандартные).
- Архитектура проекта создается на Ваше усмотрение.

</details>

<details>
  <summary>Выполненные требования</summary>

#### Общие требования

- [x] Приложение разработано с использованием фреймворка Next.js [последней версии](https://nextjs.org) с использованием
  App Router.
- [x] Код чистый и читабельный.
- [x] Архитектурная методология - [FSD](https://feature-sliced.design).
- [x] Отсутствует дублирование кода, приложение разбито на компоненты, отформатировано в едином стиле.
- [x] Приложение адаптировано под различные устройства.
- [x] Корректное отображение в браузерах Chrome, Firefox, Edge.

#### Дополнительные требования

- [x] Используется TypeScript.
- [x] Выполнен деплой проекта на хостинг [Vercel](https://vercel.com),
- [x] Написана документация по сборке и настройке проекта.
- [x] Написан конфигурационный файл для создания и запуска Docker-контейнера.

#### Серверная часть

Для работы приложения создан JSON-server с mock-данными, имитирующие реальную выборку данных с сервера. Создано
несколько endpoints для получения данных.

#### Описание приложения

1. Главная страница

    - [x] При входе в приложение отображается шапка (header) приложения с логотипом, виджетом текущей даты и курсом
      валюты и кнопками для действий пользователя (поиск на странице, профиль пользователя).
    - [x] В подвале (footer) приложения отображается логотип, список полезных ссылок по приложению, блок с контактными
      данными и социальными сетями, кнопка для действия пользователя (предложение новости).
    - [x] Основной контент раздел на две части (навигационное меню и секции с виджетами),
    - [x] Навигационное меню отображает список доступных для чтения категорий (список формируется на основании данных с
      сервера):
        - Порядок отображения категорий определяется в базе данных (свойство `order`).
        - Значение и заголовок категории определяются в базе данных (свойства `value` и `label`).
        - Каждому `value` соответствует своя икона. Иконки хранятся в папке [public/icons](client/public/icons) в
          соответствующем файле [categories.svg](client/public/icons/categories.svg). `ID` иконки соответствует `value`
          категории. Конфигурационный файл для определения типов иконок расположен
          в [/shared/config](client/src/shared/config/sprites.ts).
        - При нажатии на определенную категорию происходит скроллинг до соответствующей категории (с помощью якорной
          ссылки).
        - Навигационное меню адаптировано под различные устройства.
    - [x] Основной контент страницы представляет собой набор различных виджетов, которые встраиваются в макет.

2. Заголовок страницы (header).

    - [x] Присутствует логотип приложения.
    - [x] При нажатии на логотип происходит перенаправление на главную страницу (`/`).
    - [x] Присутствует виджет "Дата и курс валют".
    - [x] Присутствует виджет кнопок (заглушек) действия пользователя (поиск по сайту, профиль пользователя).
    - [x] Заголовок страницы адаптирован под различные устройства.

3. Подвал страницы (footer).

    - [x] Присутствует логотип приложения.
    - [x] При нажатии на логотип происходит перенаправление на главную страницу (`/`).
    - [x] Присутствует список полезных ссылок по приложению. Отображение ссылок можно сконфигурировать по столбцам
      в [конфигурационном файле](client/src/widgets/layout-footer/ui/useful-links/config.ts)
    - [x] Присутствует блок с контактными данными и ссылками на социальные сети.
    - [x] Присутствует виджет с кнопкой действия (заглушка) "Предложить новость".
    - [x] При нажатии на соответствующую ссылку происходит перенаправление на соответствующую страницу.
    - [x] Подвал страницы адаптирован под различные устройства.

4. Виджет "Лента".

   Представляет собой список последних новостей (по-умолчанию, 4) из различных категорий, отсортированных по дате
   публикации.
    - [x] Присутствует заголовок с названием виджета ("Лента").
    - [x] Присутствует список последних новостей. У каждой новости имеется иконка, заголовок новости, дата публикации и
      плашка с категорией.
    - [x] При нажатии на соответствущий заголовок перенаправляет на подробное описание новости.
    - [x] При нажатии на соответствующую плашку категорию перенаправляет на все новости данной категории.
    - [x] Виджет адаптирован под различные устройства.

5. Виджет "Бегущая строка".

   Встроен в виджет "Лента". Представляет собой заголовок последней "горящей" новости, выполненный в стиле бегущей
   строки.
    - [x] Присутствует иконка, определяющая, что новость "горящая".
    - [x] Присутствует заголовок новости.
    - [x] При нажатии на заголовок новости перенаправляет на подробное описание новости.
    - [x] Виджет адаптирован под различные устройства.

6. Виджет "Реклама".

   Представляет собой рекламный блок. Данные для виджета хранятся в базе данных и предоставляются в рандомном порядке.
    - [x] В верхнем разделе блока (head) присутствует ссылка на ресурс рекламной компании.
    - [x] Присутствует картинка рекламной компании. В случае отсутствия картинки отображается надпись "Реклама".
    - [x] Присутствует описание рекламной компании. Максимальная высота блока - 2 строки. При нажатии на блок с
      описанием появляется всплывающее окошко с полным описанием.
    - [x] Виджет адаптирован под различные устройства.

7. Виджет "Читайте также".

   Представляет собой блок, отображающий последние новости из различных категории, не попавшие в виджет "Лента".
    - [x] В верхнем разделе блока (head) присутствует плашка с категорией с датой публикации новости.
    - [x] В теле блока присутствует заголовок новости.
    - [x] В теле блока присутствует виджет со счетчиком реакций, счетчиком комментариев и счетчиком закладок новости.
    - [x] При нажатии на соответствующую плашку категории перенаправляет на все новости данной категории.
    - [x] При нажатии на соответствующий заголовок перенаправляет на подробное описание новости.
    - [x] Виджет адаптирован под различные устройства.

8. Виджет "Новости по категории".
   Представляет собой блок, отображающий последние новости различных категорий (по-умолчанию, максимум 4).
    - [x] Присутствует заголовок с названием категории.
    - [x] Присутствует превью-изображения, описывающее соответствующую новость.
    - [x] Присутствует дата публикации соответствующей новости.
    - [x] В теле блока присутствует заголовок новости.
    - [x] В теле блока присутствует виджет со счетчиком реакций, счетчиком комментариев и счетчиком закладок новости.
    - [x] При нажатии на соответствующий заголовок перенаправляет на подробное описание новости.
    - [x] Виджет адаптирован под различные устройства.

9. Виджет "Дата и курс валют".
   Представляет собой блок, отображающий плашку с текущей датой и списком курс валют относительно RUB (кроме BTC).
   Данные предоставляются сторонним сервисом.
    - [x] Присутствует плашка с текущей датой.
    - [x] Присутствует плашка с курсом рубля относительно доллара.
    - [x] Присутствует плашка с курсом рубля относительно евро.
    - [x] Присутствует плашка с курсом биткоина относительно доллара.

</details>

---

Приложение написано с использованием следующего _JavaScipt/TypeScript_ стека:

Клиентская часть:

- [Next.js](https://nextjs.org)
- [React Query](https://tanstack.com/query/latest/)
- [moment.js](https://momentjs.com)
- [TypeScript](https://www.typescriptlang.org/)
- [ESLint](https://eslint.org/)
- [Prettier](https://prettier.io/)
- [Husky](https://github.com/typicode/husky)
- [Lint Staged](https://github.com/okonet/lint-staged)

Серверная часть:

- [JSON Server](https://github.com/typicode/json-server)

Архитектурная методология:

- [Feature Sliced Design (FSD)](https://feature-sliced.design)

---

## Настройка приложения

1. Для корректной работы приложения необходимо указать переменные среды. Название переменных указаны в
   файле [.env.example](client/.env.example).
2. Файл `.env` располагается в папке [клиента](client).
3. Для отображения курса валют необходимо настроить работу стороннего сервиса, предоставляющего данные курса валют.
   По-умолчанию, приложение настроено на работу с сервисом [CryptoCompare](https://cryptocompare.com). Для того, что
   использовать сервис [CryptoCompare](https://cryptocompare.com) необходимо получить API-ключ.
4. Описание файла `.env` клиента:
   ```bash
   NEXT_PUBLIC_BASE_URL="PUT SERVER URL ENDPOINT HERE"
   NEXT_PUBLIC_CRYPTO_COMPARE_URL="PUT CRYPTO COMPARE URL ENDPOINT HERE"
   NEXT_PUBLIC_CRYPTO_COMPARE_API_KEY="PUT CRYPTO COMPARE API KEY HERE"
   ```

## Конфигурация прилождляения

> Базовая конфигурация приложения [config](client/src/shared/config)

| Ресурс  | Описание                                                                                                                                                                                                                                  |
|---------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| routes  | Ссылки на ресурсы приложения                                                                                                                                                                                                              |
| sprites | Определение категорий иконок и их типов. Каждый тип иконки необходимо определить в файле, соответствующий категории иконки в папке `public`. Обязательно должен быть указан ID иконки в файле-категории, иначе иконка не будет определена |
| emoji   | Определение emoji-символов                                                                                                                                                                                                                |

> Конфигурация значений конвертируемых курсов валют [types](client/src/shared/api/currency/types.ts) и в
> виджете [DateAndCurrency](client/src/widgets/date-and-currency/ui/ui.tsx)

| Ресурс           | Описание                                   |
|------------------|--------------------------------------------|
| CurrencyCodeFrom | Валюта для конвертации                     |
| CurrencyCodeTo   | Валюта в которую необходимо конвертировать |

> Конфигурация базового (первичного) значения в списке
> категорий [categories/config](client/src/features/categories/config/index.ts)

## Запуск приложения

> ВАЖНО: В качестве пакетного менеджера используется [npm](https://npmjs.com)

Клиентская часть ([/client](/client))

1. Для работы приложения требуется NodeJS версии `>= 18.18`.
2. Для запуска приложения в режиме разработчика использовать `npm run dev`.
3. Для сборки использовать `npm run build`.
4. Для запуска использовать `npm run start`.

Серверная часть ([/server](/server))

1. Для работы приложения требуется NodeJS версии `>= 18.18`.
2. Для запуска приложения в режиме разработчика использовать `npm run dev`.
3. Для запуска использовать `npm run start`.

## Запуск Docker

> ВАЖНО: перед запуском убедитесь, что у Вас установлен [Docker](https://docs.docker.com/engine/install/), а
> также [Docker Compose](https://docs.docker.com/compose/gettingstarted/)

1. Для запуска Docker-контейнера, необходимо в папке клиента ([/client](/client)) создать
   файл `.env.production` с
   ключами, указанными в разделе `Настройка приложения`.в
2. Для запуска сборки Docker-контейнера выполните следующую команду:
   ```bash
   docker-compose up -d
   ```
3. Docker-контейнер запустится в фоновом режиме.
4. Клиент-приложение будет доступно по адресу http://localhost:8080.
5. Сервер-приложение будет доступно по адресу http://localhost:3001.

---

## ✨ [Превью](https://news-app-2023.vercel.app)

## Автор

👤 Разработчик **Indar Basto** ([@wowblvck](https://github.com/wowblvck))
****